<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>Document</title>
</head>
<body>
            <div class="state">
                <form action="/state/add" method="post">
                        <input type="text" name="state" placeholder="Enter State">
                        <input type="submit" value="Add">
                </form>
            </div>


            <div class="city">
                 <form action="/state/addcity" method="post">
                    <select name="state" id="state" class="form-control col-md-4">
                         <input type="text" name="city" placeholder="Enter City">
                        <input type="submit" value="Add">
                </form>
            </div>
</body>

        
<Script>
    $.getJSON("/state/allstate", data => {
        project = data;
        console.log(data);
        fillDropDown("state", data, "Choose State", 0);
    });



    function fillDropDown(id, data, label, selectedid = 0) {
        $(`#${id}`).empty();
        $(`#${id}`).append(
            $("<option>")
                .val("null")
                .text(label)
        );
        $.each(data, (i, item) => {
            if (item.id == selectedid) {
                $(`#${id}`).append(
                    $("<option selected>")
                        .val(item.id)
                        .text(item.id)
                );
            } else {
                $(`#${id}`).append(
                    $("<option>")
                        .val(item.id)
                        .text(item.state)
                );
            }
        });
    };

</Script>

</html>